{"options":{"layout":{"header":{"type":"brief"}},"logoImg":"/static/icons/system.png","swapp":"apiVersion: core.oam.dev/v1alpha2\nkind: ApplicationConfiguration\nspec:\n  parameterValues:\n    - name: CLUSTER_ID\n      value: master\n    - name: NAMESPACE_ID\n      value: sreworks\n    - name: STAGE_ID\n      value: prod\n  components:\n    - revisionName: RESOURCE_ADDON|system-env@env|1.0\n      scopes:\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Cluster\n            name: '{{ Global.CLUSTER_ID }}'\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Namespace\n            name: '{{ Global.NAMESPACE_ID }}'\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Stage\n            name: '{{ Global.STAGE_ID }}'\n      parameterValues:\n        - name: keys\n          value:\n            - DB_HOST\n            - DB_PASSWORD\n            - DB_PORT\n            - DB_USER\n            - APPMANAGER_ACCESS_ID\n            - APPMANAGER_ACCESS_SECRET\n            - APPMANAGER_CLIENT_ID\n            - APPMANAGER_CLIENT_SECRET\n            - APPMANAGER_PACKAGE_ACCESS_KEY\n            - APPMANAGER_PACKAGE_SECRET_KEY\n          toFieldPaths:\n            - spec.keys\n      dataOutputs:\n        - name: Global.DB_HOST\n          fieldPath: '{{ spec.env.DB_HOST }}'\n        - name: Global.DB_PASSWORD\n          fieldPath: '{{ spec.env.DB_PASSWORD }}'\n        - name: Global.DB_PORT\n          fieldPath: '{{ spec.env.DB_PORT }}'\n        - name: Global.DB_USER\n          fieldPath: '{{ spec.env.DB_USER }}'\n        - name: Global.APPMANAGER_USERNAME\n          fieldPath: '{{ spec.env.APPMANAGER_ACCESS_ID }}'\n        - name: Global.APPMANAGER_PASSWORD\n          fieldPath: '{{ spec.env.APPMANAGER_ACCESS_SECRET }}'\n        - name: Global.APPMANAGER_CLIENT_ID\n          fieldPath: '{{ spec.env.APPMANAGER_CLIENT_ID }}'\n        - name: Global.APPMANAGER_CLIENT_SECRET\n          fieldPath: '{{ spec.env.APPMANAGER_CLIENT_SECRET }}'\n        - name: Global.APPMANAGER_PACKAGE_ACCESS_KEY\n          fieldPath: '{{ spec.env.APPMANAGER_PACKAGE_ACCESS_KEY }}'\n        - name: Global.APPMANAGER_PACKAGE_SECRET_KEY\n          fieldPath: '{{ spec.env.APPMANAGER_PACKAGE_SECRET_KEY }}'\n    - dataInputs: []\n      dataOutputs: []\n      dependencies: []\n      revisionName: INTERNAL_ADDON|productopsv2|_\n      scopes:\n        - scopeRef:\n            apiVersion: flyadmin.alibaba.com/v1alpha1\n            kind: Namespace\n            name: sreworks\n        - scopeRef:\n            apiVersion: flyadmin.alibaba.com/v1alpha1\n            kind: Stage\n            name: prod\n        - scopeRef:\n            apiVersion: flyadmin.alibaba.com/v1alpha1\n            kind: Cluster\n            name: master\n      parameterValues:\n        - name: TARGET_ENDPOINT\n          value: prod-flycore-paas-action\n          toFieldPaths:\n            - spec.targetEndpoint\n        - name: STAGE_ID\n          value: prod\n          toFieldPaths:\n            - spec.stageId\n    - revisionName: K8S_MICROSERVICE|plugin-aliyun-cluster|_\n      scopes:\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Cluster\n            name: '{{ Global.CLUSTER_ID }}'\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Namespace\n            name: '{{ Global.NAMESPACE_ID }}'\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Stage\n            name: '{{ Global.STAGE_ID }}'\n      traits:\n        - name: service.trait.abm.io\n          runtime: post\n          spec:\n            labels:\n              pluginType: CLUSTER\n              accountType: aliyun\n            ports:\n              - name: main\n                protocol: TCP\n                port: 7001\n                targetPort: 7001\n              - name: manage\n                protocol: TCP\n                port: 7002\n                targetPort: 7002\n      parameterValues: null\n    - revisionName: K8S_MICROSERVICE|plugin-aliyun-rds|_\n      scopes:\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Cluster\n            name: '{{ Global.CLUSTER_ID }}'\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Namespace\n            name: '{{ Global.NAMESPACE_ID }}'\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Stage\n            name: '{{ Global.STAGE_ID }}'\n      traits:\n        - name: service.trait.abm.io\n          runtime: post\n          spec:\n            labels:\n              pluginType: RESOURCE\n              accountType: aliyun\n              resourceType: redis\n            ports:\n              - name: main\n                protocol: TCP\n                port: 7001\n                targetPort: 7001\n              - name: manage\n                protocol: TCP\n                port: 7002\n                targetPort: 7002\n      parameterValues: null\n    - revisionName: K8S_MICROSERVICE|plugin-account-aliyun|_\n      scopes:\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Cluster\n            name: '{{ Global.CLUSTER_ID }}'\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Namespace\n            name: '{{ Global.NAMESPACE_ID }}'\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Stage\n            name: '{{ Global.STAGE_ID }}'\n      traits:\n        - name: service.trait.abm.io\n          runtime: post\n          spec:\n            labels:\n              pluginType: ACCOUNT\n              accountType: aliyun\n            ports:\n              - name: main\n                protocol: TCP\n                port: 7001\n                targetPort: 7001\n              - name: manage\n                protocol: TCP\n                port: 7002\n                targetPort: 7002\n      parameterValues: null\n    - revisionName: K8S_MICROSERVICE|filemanage|_\n      scopes:\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Cluster\n            name: '{{ Global.CLUSTER_ID }}'\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Namespace\n            name: '{{ Global.NAMESPACE_ID }}'\n        - scopeRef:\n            apiVersion: apps.abm.io/v1\n            kind: Stage\n            name: '{{ Global.STAGE_ID }}'\n      traits:\n        - name: service.trait.abm.io\n          runtime: post\n          spec:\n            ports:\n              - protocol: TCP\n                port: 80\n                targetPort: 7001\n      parameterValues:\n        - name: KIND\n          value: Deployment\n          toFieldPaths:\n            - spec.kind\n        - name: REPLICAS\n          value: 1\n          toFieldPaths:\n            - spec.replicas\n        - name: Global.DB_NAME\n          value: sreworks_meta\n        - name: Global.SREWORKS_FILE_PREFIX\n          value: /gateway/minio/\n        - name: Global.APPMANAGER_ENDPOINT\n          value: http://sreworks-appmanager\n        - name: Global.AUTHPROXY_ENDPOINT\n          value: http://prod-flycore-paas-authproxy\n        - name: Global.APPMANAGER_PACKAGE_ENDPOINT_PROTOCOL\n          value: http://\n        - name: Global.APPMANAGER_PACKAGE_ENDPOINT\n          value: sreworks-minio:9000\n      dependencies:\n        - component: RESOURCE_ADDON|system-env@env\n","docsUrl":"","builtIn":1,"name":"系统设置","description":"系统设置","source":"swadmin","category":"运维中台","version":"v2","isDevelopment":0}}