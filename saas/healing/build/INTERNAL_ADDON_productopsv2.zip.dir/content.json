{
	"app":{
		"environments":"[\"default,dev\"]",
		"templateName":"blank_app",
		"appId":"healing",
		"config":"null",
		"version":"0",
		"stageId":"dev"
	},
	"tabList":[
		{
			"tabId":"2b905915-6fe1-4c89-be44-f628e11a89f4",
			"isImport":1,
			"label":"2b905915-6fe1-4c89-be44-f628e11a89f4",
			"nodeTypePath":"healing|app|T:dnd0IkmP0",
			"appId":"healing",
			"elements":"[{\"type\":\"FluidGrid\",\"config\":{\"rows\":[{\"spans\":\"24\",\"uniqueKey\":\"69ee3c29-3db1-47ce-b8ba-881df5a5cb35\",\"elements\":[{\"type\":\"CustomComp\",\"config\":{\"title\":\"即将上线\",\"gridPos\":{\"x\":0,\"y\":0,\"h\":36,\"w\":50,\"i\":\"init\"},\"dependParams\":[],\"outputs\":[],\"uniqueKey\":\"f6170988-e7cc-47e5-9a7d-88685c4cecd8\",\"businessType\":\"\",\"customProps\":{},\"hasWrapper\":\"default\",\"wrapper\":\"default\",\"cardBorder\":true}}],\"rang\":[0,24],\"chosen\":false}]}}]",
			"name":"2b905915-6fe1-4c89-be44-f628e11a89f4",
			"config":"{\"functionMeta\":[]}",
			"stageId":"dev"
		},
		{
			"tabId":"2d4e6e14-51cd-4af5-b2c8-a00e816f04e7",
			"isImport":1,
			"label":"2d4e6e14-51cd-4af5-b2c8-a00e816f04e7",
			"nodeTypePath":"healing|app|T:XstpLLR5y::H8ubaw7rs",
			"appId":"healing",
			"elements":"[{\"type\":\"FluidGrid\",\"config\":{\"rows\":[{\"spans\":\"24\",\"uniqueKey\":\"2f50d426-bc11-4589-8f59-2a69a3803df5\",\"elements\":[{\"type\":\"FILTER_BAR\",\"config\":{\"outputs\":[],\"autoSubmit\":true,\"dependParams\":[],\"outputName\":\"\",\"uniqueKey\":\"77a329a5-f4f5-49d5-a507-7323e275dad4\",\"showSearch\":true,\"hasBackground\":true,\"scenes\":[],\"enterSubmit\":true,\"title\":\"过滤条\",\"parameters\":[{\"validateReg\":\"\",\"onlyKey\":\"2390d487-18ba-40b3-a402-66d5705e88c0\",\"validateType\":\"string\",\"visible\":2,\"defaultValue\":[],\"toolTip\":\"\",\"initApi\":\"\",\"label\":\"时间范围\",\"type\":6,\"effectHandler\":\"function effectHandler(nodeParams,formValues){\\n  return {}\\n}\",\"required\":2,\"defModel\":{\"defaultTime\":{\"stimeOffsetFromNow\":[7,\"days\"],\"etimeOffsetFromNow\":[0,\"days\"]},\"timestamp\":true},\"isHidden\":2,\"readonly\":1,\"validValue\":[],\"visibleExp\":\"\",\"name\":\"timeRangeSelector\",\"dynamic\":false,\"value\":[],\"order\":\"\"}],\"gridPos\":{\"w\":50,\"x\":0,\"h\":36,\"y\":0,\"i\":\"init\"}}}],\"rang\":[0,24],\"selected\":false,\"chosen\":false},{\"spans\":\"24\",\"uniqueKey\":\"97f64a5f-2f26-42c3-90b1-319a704ae8bd\",\"elements\":[{\"type\":\"StatusSummary\",\"config\":{\"outputs\":[],\"descriptionStyle\":{\"fontSize:\":16},\"hasWrapper\":\"default\",\"uniqueKey\":\"8287de89-69f4-45b7-9231-1ea4b7e20cba\",\"cardBorder\":true,\"column\":{\"xl\":3,\"md\":3,\"sm\":2,\"lg\":3,\"xs\":1,\"xxl\":4},\"wrapper\":\"default\",\"bordered\":false,\"title\":\"作业统计\",\"gridPos\":{\"w\":50,\"x\":0,\"h\":36,\"y\":0,\"i\":\"init\"},\"layout\":\"horizontal\",\"toolbar\":{\"docList\":[],\"actionList\":[],\"type\":\"button\"},\"dependParams\":[],\"statusList\":[{\"dataIndex\":\"percentage.RUNNING\",\"label\":\"运行中\"},{\"dataIndex\":\"percentage.INIT\",\"label\":\"初始化\"},{\"dataIndex\":\"percentage.EXCEPTION\",\"label\":\"运行异常\"},{\"dataIndex\":\"percentage.SUCCESS\",\"label\":\"运行成功\"}],\"dataSourceMeta\":{\"beforeRequestHandler\":\"function beforeRequest(nodeParams){\\n  if (nodeParams['timeRangeSelector'] && nodeParams['timeRangeSelector'][0] && nodeParams['timeRangeSelector'][1]) {\\n    return {\\n      stime: nodeParams['timeRangeSelector'][0],\\n      etime: nodeParams['timeRangeSelector'][1]\\n    }\\n  } else {\\n    return {\\n      etime: Math.round(new Date().getTime()),\\n      stime: Math.round(new Date().getTime()) - 86400 * 1000 * 7\\n    }\\n  }\\n}\",\"method\":\"GET\",\"api\":\"gateway/sreworks-job/jobInstance/groupByStatus?sceneType=incident&&timeRangeSelector=$(timeRangeSelector)\",\"afterResponseHandler\":\"function afterResponse(respData){\\n  console.log(respData)\\n  let statusStat = {\\n    \\\"count\\\": {\\n      \\\"INIT\\\": 0,\\n      \\\"RUNNING\\\": 0,\\n      \\\"SUCCESS\\\": 0,\\n      \\\"EXCEPTION\\\": 0\\n    },\\n    \\\"percentage\\\": {\\n      \\\"INIT\\\": 0,\\n      \\\"RUNNING\\\": 0,\\n      \\\"SUCCESS\\\": 0,\\n      \\\"EXCEPTION\\\": 0\\n    }\\n  }\\n  let total = 0\\n  respData.forEach(data => {\\n    total += data[\\\"count\\\"]\\n    statusStat[\\\"count\\\"][data[\\\"status\\\"]] = data[\\\"count\\\"]\\n\\n  })\\n  \\n  if(total == 0) {\\n    total = 1\\n  }\\n  statusStat[\\\"percentage\\\"][\\\"INIT\\\"] = (statusStat[\\\"count\\\"][\\\"INIT\\\"] * 100 / total).toFixed(2)\\n  statusStat[\\\"percentage\\\"][\\\"RUNNING\\\"] = (statusStat[\\\"count\\\"][\\\"RUNNING\\\"] * 100 / total).toFixed(2)\\n  statusStat[\\\"percentage\\\"][\\\"SUCCESS\\\"] = (statusStat[\\\"count\\\"][\\\"SUCCESS\\\"] * 100 / total).toFixed(2)\\n  statusStat[\\\"percentage\\\"][\\\"EXCEPTION\\\"] = (statusStat[\\\"count\\\"][\\\"EXCEPTION\\\"] * 100 / total).toFixed(2) \\n\\n  return statusStat\\n}\",\"type\":\"API\"},\"visibleExp\":\"\",\"colon\":true,\"labelStyle\":{},\"segmentTitle\":\"作业状态\",\"formatList\":[{\"dataIndex\":\"count.RUNNING\",\"label\":\"运行中\",\"render\":\"$(count.RUNNING)个\"},{\"dataIndex\":\"count.INIT\",\"label\":\"初始化\",\"render\":\"$(count.INIT)个\"},{\"dataIndex\":\"count.EXCEPTION\",\"label\":\"运行异常\",\"render\":\"$(count.EXCEPTION)个\"},{\"dataIndex\":\"count.SUCCESS\",\"label\":\"运行成功\",\"render\":\"$(count.SUCCESS)个\"}]}}],\"rang\":[0,24],\"selected\":false,\"chosen\":false},{\"spans\":\"24\",\"uniqueKey\":\"55f7b785-645f-416a-b271-43e1bfd309d7\",\"elements\":[{\"type\":\"TABLE\",\"config\":{\"outputs\":[],\"hasWrapper\":\"default\",\"columns\":[{\"dataIndex\":\"traceId\",\"label\":\"自愈链ID\"},{\"defaultSortOrder\":\"ascend\",\"dataIndex\":\"count\",\"label\":\"包含作业实例数\"},{\"dataIndex\":\"status.SUCCESS\",\"dict\":{\"cron\":\"定时\",\"normal\":\"普通\"},\"label\":\"成功作业实例数\"},{\"dataIndex\":\"minGmtCreate\",\"label\":\"自愈开始时间\",\"render\":\"<common.DateTime value={row.minGmtCreate} />\"},{\"dataIndex\":\"maxGmtCreate\",\"label\":\"自愈结束时间\",\"render\":\"<common.DateTime value={row.maxGmtCreate} />\"}],\"cardBorder\":true,\"uniqueKey\":\"55a00ef4-f068-460d-89e3-38d315334bdd\",\"wrapper\":\"default\",\"paging\":true,\"title\":\"自愈作业链\",\"gridPos\":{\"w\":50,\"x\":0,\"h\":36,\"y\":0,\"i\":\"init\"},\"toolbar\":{\"docList\":[],\"actionList\":[],\"type\":\"button\"},\"itemToolbar\":{\"actionList\":[],\"type\":\"link\"},\"dependParams\":[],\"size\":\"small\",\"dataSourceMeta\":{\"beforeRequestHandler\":\"function beforeRequest(nodeParams,){\\n  return {}\\n}\",\"method\":\"GET\",\"api\":\"gateway/sreworks-job/jobInstance/groupByTraceId\",\"afterResponseHandler\":\"function afterResponse(respData){\\n    respData.forEach(item => {\\n        var successCount = item.status.SUCCESS || 0;\\n        item.status.SUCCESS = successCount;\\n\\n    })\\n    console.log(respData)\\n    \\n    return respData\\n}\",\"type\":\"API\",\"params\":{}},\"visibleExp\":\"\",\"expandedRow\":{\"name\":\"task_list\",\"type\":\"TABLE\",\"config\":{\"columns\":[{\"dataIndex\":\"id\",\"label\":\"作业实例ID\",\"render\":\"<a href='/#/job/main/his?id=$(row.id)' target='_blank'>$(row.id)</a>\"},{\"dataIndex\":\"job.name\",\"label\":\"作业定义标识\"},{\"defaultSortOrder\":\"ascend\",\"dataIndex\":\"job.alias\",\"label\":\"作业定义名称\"},{\"dataIndex\":\"status\",\"label\":\"作业实例状态\"},{\"dataIndex\":\"gmtCreate\",\"label\":\"创建时间\",\"render\":\"<common.DateTime value={row.gmtCreate} />\"}],\"dataIndex\":\"\",\"api\":{\"paging\":false,\"url\":\"gateway/sreworks-job/jobInstance/listByTraceId?page=&pageSize=&traceId=$(traceId)\"},\"title\":\"作业列表\"}}}}],\"rang\":[0,24],\"selected\":false,\"chosen\":false}]}}]",
			"name":"2d4e6e14-51cd-4af5-b2c8-a00e816f04e7",
			"config":"{\"functionMeta\":[]}",
			"stageId":"dev"
		},
		{
			"tabId":"661af652-0aa1-4232-a27d-51e4c4321240",
			"isImport":1,
			"label":"661af652-0aa1-4232-a27d-51e4c4321240",
			"nodeTypePath":"healing|app|T:XstpLLR5y",
			"appId":"healing",
			"elements":"[{\"type\":\"FluidGrid\",\"config\":{\"rows\":[{\"spans\":\"24\",\"uniqueKey\":\"ebe39e5c-7fc7-4552-b4a6-289d86a180c1\",\"elements\":[{\"type\":\"PageHeaderLayout\",\"config\":{\"outputs\":[],\"dependParams\":[],\"uniqueKey\":\"8f06180e-b288-464d-8f12-e96ab944f7e0\",\"cardBorder\":true,\"description\":\"页面的其他描述信息\",\"topMenuType\":\"link\",\"wrapper\":\"none\",\"title\":\"\",\"gridPos\":{\"w\":50,\"x\":0,\"h\":36,\"y\":0,\"i\":\"init\"},\"bgUrl\":\"\",\"statistics\":[]}}],\"rang\":[0,24],\"chosen\":false,\"selected\":false}]}}]",
			"name":"661af652-0aa1-4232-a27d-51e4c4321240",
			"config":"{\"functionMeta\":[]}",
			"stageId":"dev"
		},
		{
			"tabId":"bc32769c-52aa-4861-b672-3dcb47082570",
			"isImport":1,
			"label":"bc32769c-52aa-4861-b672-3dcb47082570",
			"nodeTypePath":"healing|app|T:XstpLLR5y::2IwXk0Hca",
			"appId":"healing",
			"elements":"[{\"type\":\"FluidGrid\",\"config\":{\"rows\":[{\"spans\":\"24\",\"uniqueKey\":\"13eaa5bc-3db3-41d4-adef-e745bf1d9483\",\"elements\":[{\"type\":\"FILTER_FORM\",\"config\":{\"outputs\":[],\"outputName\":\"\",\"uniqueKey\":\"750f7170-80d5-4283-816f-e0949b037766\",\"column\":\"4\",\"title\":\"过滤表单\",\"gridPos\":{\"w\":50,\"x\":0,\"h\":36,\"y\":0,\"i\":\"init\"},\"autoSubmit\":false,\"dependParams\":[],\"showSearch\":true,\"scenes\":[],\"labelSpan\":\"8\",\"enterSubmit\":false,\"parameters\":[{\"validateReg\":\"\",\"onlyKey\":\"f36b20de-c22b-4aeb-9732-1b3eb1b56071\",\"validateType\":\"string\",\"visible\":2,\"defaultValue\":[],\"toolTip\":\"\",\"initApi\":\"\",\"label\":\"应用\",\"type\":3,\"effectHandler\":\"function effectHandler(nodeParams,formValues){\\n  return {}\\n}\",\"required\":1,\"defModel\":{},\"isHidden\":2,\"readonly\":1,\"dataSourceMeta\":{\"method\":\"GET\",\"api\":\"gateway/sreworks/appdev/app/list\",\"afterResponseHandler\":\"function afterResponse(respData){\\n  respData.forEach(item => {\\n    item.value=item.appId;\\n    item.label=item.name;\\n  })\\n\\n  return respData;\\n}\",\"type\":\"API\"},\"validValue\":[],\"visibleExp\":\"\",\"name\":\"appId\",\"dynamic\":false,\"value\":[],\"order\":\"\"},{\"validateReg\":\"\",\"onlyKey\":\"a075bdf1-fd50-4247-98dd-667b21049334\",\"validateType\":\"string\",\"visible\":2,\"defaultValue\":[],\"toolTip\":\"\",\"initApi\":\"\",\"label\":\"应用实例\",\"type\":1,\"effectHandler\":\"function effectHandler(nodeParams,formValues){\\n  return {}\\n}\",\"required\":1,\"defModel\":{},\"isHidden\":2,\"readonly\":1,\"validValue\":[],\"visibleExp\":\"\",\"name\":\"appInstanceId\",\"dynamic\":false,\"value\":[],\"order\":\"\"},{\"validateReg\":\"\",\"onlyKey\":\"c4ec99b5-bc3b-4a73-99bd-5dfbbc04d938\",\"validateType\":\"string\",\"visible\":2,\"defaultValue\":[],\"toolTip\":\"\",\"initApi\":\"\",\"label\":\"异常类型\",\"type\":3,\"effectHandler\":\"function effectHandler(nodeParams,formValues){\\n  return {}\\n}\",\"required\":1,\"defModel\":{},\"isHidden\":2,\"readonly\":1,\"dataSourceMeta\":{\"method\":\"GET\",\"api\":\"gateway/health/incident_type/getIncidentTypes\",\"afterResponseHandler\":\"function afterResponse(respData){\\n  respData.forEach(item => {\\n    item.value=item.id;\\n    item.label=item.name;\\n  })\\n\\n  return respData;\\n}\",\"type\":\"API\"},\"validValue\":[],\"visibleExp\":\"\",\"name\":\"incidentTypeId\",\"dynamic\":false,\"value\":[],\"order\":\"\"}]}}],\"rang\":[0,24],\"selected\":false,\"chosen\":false},{\"spans\":\"24\",\"uniqueKey\":\"42d7fa32-a768-42e2-baa7-8863981dcec0\",\"elements\":[{\"type\":\"TABLE\",\"config\":{\"outputs\":[],\"hasWrapper\":\"default\",\"columns\":[{\"sorter\":true,\"dataIndex\":\"id\",\"label\":\"ID\"},{\"sorter\":true,\"dataIndex\":\"defName\",\"label\":\"关联定义\"},{\"dataIndex\":\"typeName\",\"label\":\"异常类型\"},{\"dataIndex\":\"appName\",\"label\":\"应用\"},{\"dataIndex\":\"appInstanceId\",\"label\":\"应用实例\"},{\"dataIndex\":\"appComponentName\",\"label\":\"应用组件\"},{\"dataIndex\":\"appComponentInstanceId\",\"label\":\"组件实例\"},{\"sorter\":true,\"dataIndex\":\"gmtLastOccur\",\"label\":\"最近发生时间\",\"render\":\"<common.DateTime value={row.gmtLastOccur}></common.DateTime>\"},{\"dataIndex\":\"occurTimes\",\"label\":\"持续发生次数\"},{\"sorter\":true,\"dataIndex\":\"gmtRecovery\",\"label\":\"恢复时间\",\"render\":\"\"},{\"sorter\":true,\"dataIndex\":\"selfHealingStatus\",\"label\":\"自愈状态\"},{\"sorter\":true,\"dataIndex\":\"traceId\",\"label\":\"自愈任务链\"},{\"dataIndex\":\"spanId\",\"label\":\"任务链层次\"},{\"sorter\":true,\"dataIndex\":\"gmtSelfHealingStart\",\"label\":\"自愈开始时间\",\"render\":\"\"},{\"sorter\":true,\"dataIndex\":\"gmtSelfHealingEnd\",\"label\":\"自愈结束时间\",\"render\":\"\"},{\"sorter\":true,\"dataIndex\":\"source\",\"label\":\"异常来源\"},{\"dataIndex\":\"cause\",\"label\":\"异常原因\"}],\"uniqueKey\":\"3533bca3-a811-4d8c-ba41-feb198db3942\",\"cardBorder\":true,\"wrapper\":\"transparent\",\"paging\":false,\"title\":\"实例列表\",\"gridPos\":{\"w\":50,\"x\":0,\"h\":36,\"y\":0,\"i\":\"init\"},\"toolbar\":{\"docList\":[],\"actionList\":[],\"type\":\"button\"},\"dependParams\":[],\"size\":\"small\",\"dataSourceMeta\":{\"method\":\"GET\",\"api\":\"gateway/health/incident_instance/getIncidents?appId=$(appId)&appInstanceId=$(appInstanceId)&incidentTypeId=$(incidentTypeId)\",\"afterResponseHandler\":\"function afterResponse(respData){\\n  respData.forEach(item => {\\n\\n    if (item.gmtSelfHealingStart) {\\n        gmtSelfHealingStart = new Date(item.gmtSelfHealingStart)\\n        item.gmtSelfHealingStart = gmtSelfHealingStart.toJSON().substr(0, 19).replace('T', ' ');\\n    }\\n\\n    if (item.gmtSelfHealingEnd) {\\n        gmtSelfHealingEnd = new Date(item.gmtSelfHealingEnd)\\n        item.gmtSelfHealingEnd = gmtSelfHealingEnd.toJSON().substr(0, 19).replace('T', ' ');\\n    }\\n    \\n    if (item.gmtRecovery) {\\n        gmtRecovery = new Date(item.gmtRecovery)\\n        item.gmtRecovery = gmtRecovery.toJSON().substr(0, 19).replace('T', ' ');\\n    }\\n\\n  })\\n  return respData;\\n}\",\"type\":\"API\"},\"visibleExp\":\"\"}}],\"rang\":[0,24],\"selected\":false,\"chosen\":false}]}}]",
			"name":"bc32769c-52aa-4861-b672-3dcb47082570",
			"config":"{\"functionMeta\":[]}",
			"stageId":"dev"
		}
	],
	"nodeList":[
		{
			"serviceType":"dnd0IkmP0",
			"isImport":1,
			"parentNodeTypePath":"healing|app|T:",
			"version":"0",
			"nodeTypePath":"healing|app|T:dnd0IkmP0",
			"appId":"healing",
			"category":"node",
			"config":"{\"redirect\":{},\"nodeRoleOptionLists\":[{\"gmtModified\":1631870609,\"roleId\":\"healing:guest\",\"tenantId\":\"alibaba\",\"name\":\"访客\",\"description\":\"访客\",\"gmtCreate\":1631870609}],\"isTree\":false,\"pageLayoutType\":\"FLUID\",\"keywords\":\"\",\"hidden\":true,\"icon\":\"\",\"label\":\"统计\",\"roleList\":[\"healing:guest\"],\"type\":\"custom\",\"url\":\"healing/statistics\",\"isDefault\":false,\"name\":\"statistics\",\"order\":0}",
			"stageId":"dev"
		},
		{
			"serviceType":"XstpLLR5y",
			"isImport":1,
			"parentNodeTypePath":"healing|app|T:",
			"version":"0",
			"nodeTypePath":"healing|app|T:XstpLLR5y",
			"appId":"healing",
			"category":"node",
			"config":"{\"redirect\":{},\"nodeRoleOptionLists\":[{\"gmtModified\":1631870609,\"roleId\":\"healing:guest\",\"tenantId\":\"alibaba\",\"name\":\"访客\",\"description\":\"访客\",\"gmtCreate\":1631870609}],\"isTree\":false,\"pageLayoutType\":\"FLUID\",\"keywords\":\"故障自愈\",\"hidden\":false,\"icon\":\"\",\"label\":\"主页\",\"roleList\":[\"healing:guest\"],\"type\":\"custom\",\"url\":\"healing/main\",\"layout\":\"custom\",\"isDefault\":false,\"name\":\"main\",\"order\":0}",
			"stageId":"dev"
		},
		{
			"serviceType":"2IwXk0Hca",
			"isImport":1,
			"parentNodeTypePath":"healing|app|T:XstpLLR5y",
			"version":"0",
			"nodeTypePath":"healing|app|T:XstpLLR5y::2IwXk0Hca",
			"appId":"healing",
			"category":"node",
			"config":"{\"redirect\":{},\"nodeRoleOptionLists\":[{\"gmtModified\":1631870609,\"roleId\":\"healing:guest\",\"tenantId\":\"alibaba\",\"name\":\"访客\",\"description\":\"访客\",\"gmtCreate\":1631870609}],\"isTree\":false,\"pageLayoutType\":\"FLUID\",\"keywords\":\"\",\"hidden\":false,\"icon\":\"\",\"label\":\"系统异常\",\"roleList\":[\"healing:guest\"],\"type\":\"custom\",\"url\":\"healing/main/incident\",\"isDefault\":false,\"name\":\"incident\",\"order\":0}",
			"stageId":"dev"
		},
		{
			"serviceType":"H8ubaw7rs",
			"isImport":1,
			"parentNodeTypePath":"healing|app|T:XstpLLR5y",
			"version":"0",
			"nodeTypePath":"healing|app|T:XstpLLR5y::H8ubaw7rs",
			"appId":"healing",
			"category":"node",
			"config":"{\"redirect\":{},\"nodeRoleOptionLists\":[{\"gmtModified\":1631870609,\"roleId\":\"healing:guest\",\"tenantId\":\"alibaba\",\"name\":\"访客\",\"description\":\"访客\",\"gmtCreate\":1631870609}],\"isTree\":false,\"pageLayoutType\":\"FLUID\",\"keywords\":\"\",\"hidden\":false,\"icon\":\"\",\"label\":\"自愈作业链\",\"roleList\":[\"healing:guest\"],\"type\":\"custom\",\"url\":\"healing/main/taskchain\",\"isDefault\":false,\"name\":\"taskchain\",\"order\":0}",
			"stageId":"dev"
		}
	],
	"elementList":[
		{
			"elementId":"healing:BLOCK:cc20294f-8467-4f87-addc-a1c10a67108c",
			"isImport":1,
			"appId":"healing",
			"name":"cc20294f-8467-4f87-addc-a1c10a67108c",
			"type":"BLOCK",
			"config":"{\"elementId\":\"healing:BLOCK:cc20294f-8467-4f87-addc-a1c10a67108c\",\"elements\":[{\"type\":\"FluidGrid\",\"config\":{\"rows\":[{\"spans\":\"24\",\"uniqueKey\":\"0d71225d-6f59-434f-a425-e13d36773e24\",\"elements\":[{\"type\":\"ACTION\",\"config\":{\"outputs\":[],\"bodyType\":1,\"submitLabel\":\"保存\",\"beforeHandler\":\"function beforeHandler(nodeParams){\\n  var transformParams = {};\\n  \\n  var varList = []\\n  if (nodeParams.varConf) {\\n      var varConf = JSON.parse(nodeParams.varConf);\\n      for (var key in varConf) {\\n        varList.push({\\\"key\\\": key, \\\"value\\\": varConf[key]});\\n      }\\n      transformParams['varConf'] = varConf;\\n      transformParams['varList'] = varList;\\n  }\\n  \\n  var sceneConfList = []\\n  if (nodeParams.sceneConf) {\\n      var sceneConf = JSON.parse(nodeParams.sceneConf);\\n      for (var key in sceneConf) {\\n        sceneConfList.push({\\\"key\\\": key, \\\"value\\\": sceneConf[key]});\\n      }\\n      transformParams['sceneConf'] = sceneConf;\\n      transformParams['modelId'] = sceneConf['modelId'];\\n      transformParams['sceneConfList'] = sceneConfList;\\n  }\\n\\n  return {type:\\\"\\\",message:\\\"\\\",title:\\\"\\\",pass:true,transformParams:transformParams,dynamicItems:[]}\\n}\",\"method\":\"POST\",\"uniqueKey\":\"294cf083-4526-40e3-b3f9-7d47a318f05b\",\"refresh\":[\"Y\"],\"label\":\"任务保存\",\"title\":\"操作\",\"hintFunction\":\"function hintHandler(nodeParams,formValues){\\n  return \\\"\\\"\\n}\",\"gridPos\":{\"w\":50,\"x\":0,\"h\":36,\"y\":0,\"i\":\"init\"},\"dependParams\":[],\"formLayout\":\"horizontal\",\"beforeSubmitHandler\":\"function beforeSubmitHandler(nodeParams,formValues){\\n  var res = {\\\"varConf\\\":{}, \\\"sceneConf\\\":{}};\\n  formValues.varList.forEach(function(row){\\n    res[\\\"varConf\\\"][row.key] = row.value;\\n  });\\n\\n  res[\\\"sceneConf\\\"][\\\"modelId\\\"] = formValues.modelId;\\n\\n  return {type:\\\"\\\",message:\\\"\\\",title:\\\"\\\",pass:true,transformParams:res}\\n}\",\"api\":\"gateway/sreworks-job/task/modify?id=$(id)\",\"parameters\":[{\"validateReg\":\"\",\"onlyKey\":\"4db13c16-0730-4e1e-b154-8bd18d9753a1\",\"validateType\":\"string\",\"visible\":2,\"defaultValue\":[\"incident\"],\"toolTip\":\"\",\"initApi\":\"\",\"label\":\"sceneType\",\"type\":1,\"effectHandler\":\"function effectHandler(nodeParams,formValues){\\n  return {}\\n}\",\"required\":2,\"defModel\":{},\"isHidden\":1,\"readonly\":2,\"validValue\":[],\"visibleExp\":\"\",\"name\":\"sceneType\",\"dynamic\":false,\"value\":[],\"order\":\"\"},{\"validateReg\":\"\",\"onlyKey\":\"c0afcc71-7efb-4262-8f10-960b3d29ac54\",\"validateType\":\"string\",\"visible\":2,\"defaultValue\":[],\"toolTip\":\"\",\"initApi\":\"\",\"label\":\"任务标识\",\"type\":1,\"effectHandler\":\"function effectHandler(nodeParams,formValues){\\n  return {}\\n}\",\"required\":2,\"defModel\":{},\"readonly\":1,\"validValue\":[],\"visibleExp\":\"\",\"name\":\"name\",\"dynamic\":false,\"value\":[],\"order\":1},{\"validateReg\":\"\",\"onlyKey\":\"ae52afa5-db22-464c-b05d-519a203d6448\",\"validateType\":\"string\",\"visible\":2,\"defaultValue\":[],\"toolTip\":\"\",\"initApi\":\"\",\"label\":\"任务名称\",\"type\":1,\"effectHandler\":\"function effectHandler(nodeParams,formValues){\\n  return {}\\n}\",\"required\":2,\"defModel\":{},\"readonly\":1,\"validValue\":[],\"visibleExp\":\"\",\"name\":\"alias\",\"dynamic\":false,\"value\":[],\"order\":2},{\"validateReg\":\"\",\"onlyKey\":\"5b8461d7-12d0-4d07-b01b-527eafa5c0e6\",\"validateType\":\"string\",\"visible\":2,\"defaultValue\":[],\"toolTip\":\"\",\"initApi\":\"/gateway/sreworks-job/worker/listExecType\",\"label\":\"任务类型\",\"type\":14,\"effectHandler\":\"function effectHandler(nodeParams,formValues){\\n  return {}\\n}\",\"required\":2,\"defModel\":{},\"readonly\":1,\"validValue\":[],\"visibleExp\":\"\",\"name\":\"execType\",\"dynamic\":false,\"value\":[],\"order\":3},{\"validateReg\":\"\",\"onlyKey\":\"037d5145-c7ef-4b31-87fa-9869a50422da\",\"validateType\":\"string\",\"visible\":2,\"defaultValue\":[],\"toolTip\":\"\",\"initApi\":\"\",\"label\":\"任务内容\",\"type\":83,\"effectHandler\":\"function effectHandler(nodeParams,formValues){\\n  return {}\\n}\",\"required\":2,\"defModel\":{},\"isHidden\":2,\"readonly\":1,\"validValue\":[],\"visibleExp\":\"\",\"name\":\"execContent\",\"dynamic\":false,\"value\":[],\"order\":4},{\"validateReg\":\"\",\"onlyKey\":\"6bdb785d-6391-48c9-b32d-07c1138ba25e\",\"validateType\":\"string\",\"visible\":2,\"defaultValue\":[\"30\"],\"toolTip\":\"\",\"initApi\":\"\",\"label\":\"超时时间\",\"type\":1,\"effectHandler\":\"function effectHandler(nodeParams,formValues){\\n  return {}\\n}\",\"required\":2,\"defModel\":{\"suffix\":\"秒\"},\"readonly\":1,\"validValue\":[],\"visibleExp\":\"\",\"name\":\"execTimeout\",\"dynamic\":false,\"value\":[],\"order\":5},{\"validateReg\":\"\",\"onlyKey\":\"317740ac-f1cd-4ac2-aace-5845da443071\",\"validateType\":\"string\",\"visible\":2,\"defaultValue\":[],\"toolTip\":\"\",\"initApi\":\"\",\"label\":\"参数\",\"type\":85,\"effectHandler\":\"function effectHandler(nodeParams,formValues){\\n  return {}\\n}\",\"required\":1,\"defModel\":{\"enableRemove\":true,\"columns\":[{\"editProps\":{\"name\":\"key\",\"label\":\"\",\"type\":1,\"required\":false,\"inputTip\":\"key\"},\"dataIndex\":\"key\",\"title\":\"key\",\"key\":\"key\"},{\"editProps\":{\"name\":\"value\",\"label\":\"\",\"type\":1,\"required\":false,\"inputTip\":\"value\"},\"dataIndex\":\"value\",\"title\":\"value\",\"key\":\"value\"}],\"enableAdd\":true,\"enableEdit\":true},\"isHidden\":2,\"readonly\":1,\"validValue\":[],\"visibleExp\":\"\",\"name\":\"varList\",\"dynamic\":false,\"value\":[],\"order\":6},{\"validateReg\":\"\",\"onlyKey\":\"6d9a63e7-9176-434e-becc-5f1c0d76f913\",\"validateType\":\"string\",\"visible\":2,\"defaultValue\":[],\"toolTip\":\"自愈任务链下游关联的异常定义, 关联后 改诊断项可产出对应的异常实例\",\"initApi\":\"\",\"label\":\"关联下游异常定义\",\"type\":3,\"effectHandler\":\"function effectHandler(nodeParams,formValues){\\n  return {}\\n}\",\"required\":1,\"defModel\":{},\"isHidden\":2,\"readonly\":1,\"dataSourceMeta\":{\"method\":\"GET\",\"api\":\"gateway/health/definition/getDefinitionsByCategory?category=incident\",\"afterResponseHandler\":\"function afterResponse(respData){\\n  respData.forEach(item => {\\n    item.label=item.name;\\n    item.value=item.id;\\n  })\\n  return respData;\\n}\",\"type\":\"API\"},\"validValue\":[],\"visibleExp\":\"\",\"name\":\"modelId\",\"dynamic\":false,\"value\":[],\"order\":7}]}}],\"rang\":[0,24],\"chosen\":false}]}}],\"name\":\"cc20294f-8467-4f87-addc-a1c10a67108c\",\"id\":\"cc20294f-8467-4f87-addc-a1c10a67108c\",\"label\":\"诊断项详情\",\"type\":\"BLOCK\",\"category\":\"ACTION\",\"version\":0,\"config\":{\"functionMeta\":[]}}",
			"version":"0",
			"stageId":"dev"
		}
	],
	"nodeElementList":[
		{
			"elementId":"healing:BLOCK:cc20294f-8467-4f87-addc-a1c10a67108c",
			"isImport":1,
			"nodeTypePath":"healing|app|T:XstpLLR5y::H8ubaw7rs",
			"appId":"healing",
			"config":"null",
			"nodeOrder":999,
			"stageId":"dev"
		}
	]
}